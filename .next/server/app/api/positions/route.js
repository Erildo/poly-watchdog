(()=>{var e={};e.id=374,e.ids=[374],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},4975:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>k,routeModule:()=>c,serverHooks:()=>m,workAsyncStorage:()=>l,workUnitAsyncStorage:()=>d});var s={};r.r(s),r.d(s,{GET:()=>p});var a=r(2706),i=r(8203),o=r(5994),n=r(9187),u=r(6189);async function p(e){let{searchParams:t}=new URL(e.url),r=t.get("address");if(!r)return n.NextResponse.json({error:"Address required"},{status:400});try{let e=await u.t.getPositions(r);return n.NextResponse.json(e)}catch(e){return n.NextResponse.json({error:"Failed to fetch positions"},{status:500})}}let c=new a.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/positions/route",pathname:"/api/positions",filename:"route",bundlePath:"app/api/positions/route"},resolvedPagePath:"/home/orcl/Desktop/pll/app/api/positions/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:l,workUnitAsyncStorage:d,serverHooks:m}=c;function k(){return(0,o.patchFetch)({workAsyncStorage:l,workUnitAsyncStorage:d})}},6487:()=>{},8335:()=>{},6189:(e,t,r)=>{"use strict";r.d(t,{t:()=>a});let s="https://gamma-api.polymarket.com";class a{static async getUserByUsername(e){try{let t=await fetch(`${s}/users?username=${e}`);if(!t.ok)return null;return await t.json()}catch(e){return console.error("Error fetching user:",e),null}}static async getUserByAddress(e){try{let t=await fetch(`${s}/users/${e}`);if(!t.ok)return null;return await t.json()}catch(e){return console.error("Error fetching user:",e),null}}static async getPositions(e){try{let t=await fetch(`${s}/positions?user=${e}`);if(!t.ok)return[];return(await t.json()).map(e=>({id:e.id,marketId:e.market_id,market:{id:e.market_id,question:e.market?.question||"Unknown Market",slug:e.market?.slug||"",endDate:e.market?.end_date||"",volume:e.market?.volume||0,liquidity:e.market?.liquidity||0},outcome:e.outcome,size:parseFloat(e.size),averagePrice:parseFloat(e.avg_price),currentPrice:parseFloat(e.current_price||e.avg_price),pnl:parseFloat(e.pnl||"0"),pnlPercentage:parseFloat(e.pnl_percentage||"0"),isOpen:e.is_open,createdAt:e.created_at,closedAt:e.closed_at}))}catch(e){return console.error("Error fetching positions:",e),[]}}static async getTrades(e,t=50){try{let r=await fetch(`${s}/trades?user=${e}&limit=${t}`);if(!r.ok)return[];return(await r.json()).map(e=>({id:e.id,marketId:e.market_id,market:{id:e.market_id,question:e.market?.question||"Unknown Market",slug:e.market?.slug||"",endDate:e.market?.end_date||"",volume:e.market?.volume||0,liquidity:e.market?.liquidity||0},outcome:e.outcome,type:"BUY"===e.side?"BUY":"SELL",size:parseFloat(e.size),price:parseFloat(e.price),timestamp:e.timestamp,txHash:e.tx_hash}))}catch(e){return console.error("Error fetching trades:",e),[]}}}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,452],()=>r(4975));module.exports=s})();